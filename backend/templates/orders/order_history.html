{% extends 'base.html' %}
{% block title %}Order History{% endblock %}
{% block content %}
<h1>Order History</h1>
{% if orders %}
{% for order in orders %}
<div style="background:white; border-radius:8px; padding:1.5rem; box-shadow:0 2px 4px rgba(0,0,0,0.1); margin-bottom:1rem;">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h3>Order #{{ order.id }}</h3>
        <span style="color:{% if order.paid %}#27ae60{% else %}#e74c3c{% endif %};">
            {% if order.paid %}Paid{% else %}Pending{% endif %}
        </span>
    </div>
    <p style="color:#777; margin:0.5rem 0;">{{ order.created|date:"N j, Y" }}</p>
    <table style="width:100%; border-collapse:collapse; margin-top:0.5rem;">
        {% for item in order.items.all %}
        <tr style="border-bottom:1px solid #eee;">
            <td style="padding:0.4rem;">{{ item.product.name }}</td>
            <td style="padding:0.4rem; text-align:center;">x{{ item.quantity }}</td>
            <td style="padding:0.4rem; text-align:right;">${{ item.get_cost }}</td>
        </tr>
        {% endfor %}
        <tr>
            <td colspan="2" style="padding:0.75rem; font-weight:bold; text-align:right;">Total:</td>
            <td style="padding:0.75rem; font-weight:bold; text-align:right; color:#e74c3c;">${{ order.get_total_cost }}</td>
        </tr>
    </table>
</div>
{% endfor %}
{% else %}
<div style="background:white; padding:2rem; border-radius:8px; text-align:center;">
    <p>You haven't placed any orders yet.</p>
    <a href="{% url 'store:product_list' %}" class="btn btn-primary" style="margin-top:1rem;">Start Shopping</a>
</div>
{% endif %}
{% endblock %}
